{
  "description": "Training data for NL2SQL - Vietnamese Text-to-SQL with updated intent structure",
  "schema": {
    "students": {
      "columns": ["id", "student_name", "email", "course_id", "department_id", "cpa", "failed_subjects_number", "study_subjects_number", "total_learned_credits", "total_failed_credits", "year_level", "warning_level", "level_3_warning_number"],
      "description": "Thông tin sinh viên - CPA, số môn nợ, mức cảnh cáo"
    },
    "subjects": {
      "columns": ["id", "subject_id", "subject_name", "department_id", "duration", "credits", "tuition_fee", "english_subject_name", "weight", "conditional_subjects"],
      "description": "Thông tin các học phần/môn học"
    },
    "classes": {
      "columns": ["id", "subject_id", "class_id", "class_name", "linked_class_ids", "class_type", "classroom", "study_date", "study_time_start", "study_time_end", "max_student_number", "teacher_name", "study_week"],
      "description": "Thông tin các lớp học"
    },
    "learned_subjects": {
      "columns": ["id", "subject_name", "credits", "letter_grade", "semester", "student_id", "subject_id"],
      "description": "Điểm các môn học đã học của sinh viên"
    },
    "courses": {
      "columns": ["id", "course_id", "course_name"],
      "description": "Thông tin chương trình đào tạo"
    },
    "course_subjects": {
      "columns": ["id", "course_id", "subject_id", "learning_semester", "subject_type"],
      "description": "Các học phần thuộc chương trình đào tạo cụ thể"
    }
  },
  "training_examples": [
    {
      "intent": "learned_subjects_view",
      "question": "xem điểm",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls WHERE ls.student_id = {student_id} ORDER BY ls.semester DESC",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "grade_view",
      "question": "xem cpa của tôi",
      "sql": "SELECT s.cpa, s.total_learned_credits, s.year_level FROM students s WHERE s.id = {student_id}",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "grade_view",
      "question": "tôi còn nợ bao nhiêu môn",
      "sql": "SELECT s.failed_subjects_number, s.total_failed_credits, s.warning_level FROM students s WHERE s.id = {student_id}",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "learned_subjects_view",
      "question": "xem các môn đã học",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls WHERE ls.student_id = {student_id} ORDER BY ls.semester DESC",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "learned_subjects_view",
      "question": "các môn bị D",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls WHERE ls.student_id = {student_id} AND ls.letter_grade = 'D' ORDER BY ls.semester DESC",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "learned_subjects_view",
      "question": "các môn bị F",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls WHERE ls.student_id = {student_id} AND ls.letter_grade = 'F' ORDER BY ls.semester DESC",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "learned_subjects_view",
      "question": "xem điểm môn Giải tích",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls JOIN subjects s ON ls.subject_id = s.id WHERE ls.student_id = {student_id} AND s.subject_name LIKE '%Giải tích%'",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "learned_subjects_view",
      "question": "xem điểm môn MI1114",
      "sql": "SELECT ls.subject_name, ls.credits, ls.letter_grade, ls.semester FROM learned_subjects ls JOIN subjects s ON ls.subject_id = s.id WHERE ls.student_id = {student_id} AND s.subject_id = 'MI1114'",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "subject_registration_suggestion",
      "question": "gợi ý học phần",
      "sql": "SELECT s.subject_id, s.subject_name, s.credits, cs.learning_semester FROM subjects s JOIN course_subjects cs ON s.id = cs.subject_id WHERE cs.course_id = (SELECT course_id FROM students WHERE id = {student_id}) ORDER BY cs.learning_semester, s.subject_name",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "subject_registration_suggestion",
      "question": "tôi nên đăng ký môn gì",
      "sql": "SELECT s.subject_id, s.subject_name, s.credits, cs.learning_semester FROM subjects s JOIN course_subjects cs ON s.id = cs.subject_id WHERE cs.course_id = (SELECT course_id FROM students WHERE id = {student_id}) ORDER BY cs.learning_semester, s.subject_name",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "gợi ý lớp học",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) ORDER BY s.subject_name, c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "tôi nên đăng ký lớp nào",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) ORDER BY s.subject_name, c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "kỳ này nên học lớp nào",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) ORDER BY s.subject_name, c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "kỳ này nên học những lớp nào",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) ORDER BY s.subject_name, c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "tôi nên học lớp nào của môn Giải tích",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) AND s.subject_name LIKE '%Giải tích%' ORDER BY c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_registration_suggestion",
      "question": "tôi nên học lớp nào của môn MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id, s.conditional_subjects FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.id IN (SELECT subject_id FROM subject_registers WHERE student_id = {student_id}) AND s.id NOT IN (SELECT subject_id FROM learned_subjects WHERE student_id = {student_id} AND letter_grade NOT IN ('F', 'I')) AND s.subject_id = 'MI1114' ORDER BY c.study_date",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_info",
      "question": "danh sách các lớp môn Giải tích",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Giải tích%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp của môn MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp học vào thứ 2",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE c.study_date LIKE '%Monday%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "lớp buổi sáng thứ 4",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE c.study_date LIKE '%Wednesday%' AND c.study_time_start < '12:00:00'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "cho tôi các lớp thuộc học phần Giải tích 1",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Giải tích 1%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "cho tôi các lớp thuộc học phần MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "tôi muốn xem lớp của học phần MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp của môn MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "tôi muốn xem các lớp Lý thuyết điều khiển tự động",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Lý thuyết điều khiển tự động%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp Lý thuyết điều khiển tự động",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Lý thuyết điều khiển tự động%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp của môn Lập trình hướng đối tượng",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Lập trình hướng đối tượng%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "lớp của học phần Cơ sở dữ liệu",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Cơ sở dữ liệu%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "cho tôi lớp của học phần EM1180Q",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'EM1180Q'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp của môn IT3080",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'IT3080'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "cho tôi các lớp học của môn lý thuyết mạch",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%lý thuyết mạch%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp học của môn điều khiển tự động",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%điều khiển tự động%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "cho tôi thông tin các lớp Giải tích 1",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Giải tích 1%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "thông tin lớp Kỹ thuật điện",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Kỹ thuật điện%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "thông tin các lớp môn học Giải tích 1",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Giải tích 1%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp môn Nhập môn An toàn thông tin",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Nhập môn An toàn thông tin%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "các lớp học phần Lập trình mạng",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_name LIKE '%Lập trình mạng%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "subject_info",
      "question": "thông tin học phần Giải tích 2",
      "sql": "SELECT s.subject_id, s.subject_name, s.credits, s.conditional_subjects, s.english_subject_name FROM subjects s WHERE s.subject_name LIKE '%Giải tích%'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "subject_info",
      "question": "môn tiên quyết của MI1114",
      "sql": "SELECT s.subject_id, s.subject_name, s.conditional_subjects FROM subjects s WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "schedule_view",
      "question": "lịch học của tôi",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM class_registers cr JOIN classes c ON cr.class_id = c.id JOIN subjects s ON c.subject_id = s.id WHERE cr.student_id = {student_id} ORDER BY c.study_date, c.study_time_start",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "schedule_view",
      "question": "các môn đã đăng ký",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM class_registers cr JOIN classes c ON cr.class_id = c.id JOIN subjects s ON c.subject_id = s.id WHERE cr.student_id = {student_id} ORDER BY s.subject_name",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "schedule_view",
      "question": "các môn học kỳ này",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM class_registers cr JOIN classes c ON cr.class_id = c.id JOIN subjects s ON c.subject_id = s.id WHERE cr.student_id = {student_id} ORDER BY s.subject_name",
      "requires_auth": true,
      "parameters": ["student_id"]
    },
    {
      "intent": "class_info",
      "question": "các lớp học kỳ này",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id ORDER BY s.subject_name, c.class_id",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "hiện tại có các lớp học nào",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name FROM classes c JOIN subjects s ON c.subject_id = s.id ORDER BY s.subject_name, c.class_id",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "xem thông tin lớp 161084",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE c.class_id = '161084'",
      "requires_auth": false,
      "parameters": []
    },
    {
      "intent": "class_info",
      "question": "xem thông tin lớp MI1114",
      "sql": "SELECT c.class_id, c.class_name, c.classroom, c.study_date, c.study_time_start, c.study_time_end, c.teacher_name, s.subject_name, s.subject_id FROM classes c JOIN subjects s ON c.subject_id = s.id WHERE s.subject_id = 'MI1114'",
      "requires_auth": false,
      "parameters": []
    }
  ]
}
